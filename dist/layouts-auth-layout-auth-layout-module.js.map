{"version":3,"sources":["./src/app/pages/login/login.component.html","./src/app/layouts/auth-layout/auth-layout.module.ts","./src/app/layouts/auth-layout/auth-layout.routing.ts","./src/app/pages/login/login.component.scss","./src/app/pages/login/login.component.ts","./src/app/variables/credentials.ts"],"names":[],"mappings":"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","file":"layouts-auth-layout-auth-layout-module.js","sourcesContent":["export default \"<div class=\\\"header bg-gradient-info py-7 py-lg-8\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n      <!-- Header Pagina -->\\r\\n      <div class=\\\"header-body text-center mb-7\\\">\\r\\n        <div class=\\\"row justify-content-center\\\">\\r\\n          <div class=\\\"col-lg-5 col-md-6\\\">\\r\\n            <h1 i18n class=\\\"text-white\\\">&gt; smartiKette by Promelit</h1>\\r\\n            <p i18n class=\\\"text-lead text-light\\\">Etichette elettroniche e digital signage al top.</p>\\r\\n            <!-- Alert Login Fallito -->\\r\\n            <div i18n class=\\\"alert alert-danger\\\" role=\\\"alert\\\" *ngIf=\\\"showErrorMessage\\\">\\r\\n              <strong>Credenziali errate!</strong> Per favore riprova.\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- Separatore -->\\r\\n    <div class=\\\"separator separator-bottom separator-skew zindex-100\\\">\\r\\n      <svg x=\\\"0\\\" y=\\\"0\\\" viewBox=\\\"0 0 2560 100\\\" preserveAspectRatio=\\\"none\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n        <polygon class=\\\"fill-default\\\" points=\\\"2560 0 2560 100 0 100\\\"></polygon>\\r\\n      </svg>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- Contenuto della Pagina -->\\r\\n  <div class=\\\"container mt--9 pb-5\\\">\\r\\n    <div class=\\\"row justify-content-center\\\">\\r\\n      <div class=\\\"col-lg-5 col-md-7\\\">\\r\\n        <div class=\\\"card bg-secondary shadow border-0\\\">\\r\\n          <div class=\\\"card-header bg-transparent pb-1\\\">\\r\\n            <div class=\\\"text-muted text-center mt-2 mb-3\\\">\\r\\n              <h3 i18n>SmartikEtte 3.2</h3>\\r\\n            </div>\\r\\n            <div class=\\\"text-center text-muted mb-4\\\">\\r\\n              <small i18n>Autenticazione</small>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"card-body px-lg-5 py-lg-5\\\">\\r\\n            <!-- Form -->\\r\\n            <form name=\\\"loginForm\\\" #userForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n            <!-- Username -->\\r\\n            <div class=\\\"form-group mb-3\\\">\\r\\n              <div class=\\\"input-group input-group-alternative\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"ni ni-single-02\\\"></i></span>\\r\\n                </div>\\r\\n                <!-- Input Username -->\\r\\n                <input class=\\\"form-control\\\" placeholder=\\\"Username\\\" type=\\\"text\\\" name=\\\"username\\\" [(ngModel)]=\\\"userModel.username\\\" required>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- Password -->\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <div class=\\\"input-group input-group-alternative\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"ni ni-lock-circle-open\\\"></i></span>\\r\\n                </div>\\r\\n                <!-- Input Password -->\\r\\n                <input class=\\\"form-control\\\" placeholder=\\\"Password\\\" type=\\\"password\\\" name=\\\"password\\\" [(ngModel)]=\\\"userModel.password\\\" required>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- Ricordami -->\\r\\n            <div class=\\\"custom-control custom-control-alternative custom-checkbox\\\">\\r\\n              <input class=\\\"custom-control-input\\\" id=\\\" customCheckLogin\\\" type=\\\"checkbox\\\" checked name=\\\"remember\\\" [(ngModel)]=\\\"userModel.remember\\\">\\r\\n              <label class=\\\"custom-control-label\\\" for=\\\" customCheckLogin\\\">\\r\\n              <span i18n class=\\\"text-muted\\\">Ricordami</span>\\r\\n              </label>\\r\\n            </div>\\r\\n            <div class=\\\"text-center\\\">\\r\\n              <button i18n type=\\\"submit\\\" class=\\\"btn btn-primary my-4\\\">Accedi</button>\\r\\n            </div>\\r\\n            </form>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\"","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AuthLayoutRoutes } from './auth-layout.routing';\r\n\r\nimport { LoginComponent } from '../../pages/login/login.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(AuthLayoutRoutes),\r\n    FormsModule\r\n  ],\r\n  declarations: [\r\n    LoginComponent,\r\n  ]\r\n})\r\nexport class AuthLayoutModule { }\r\n","import { Routes } from '@angular/router';\r\n\r\nimport { LoginComponent } from '../../pages/login/login.component';\r\n\r\nexport const AuthLayoutRoutes: Routes = [\r\n    { path: 'login',          component: LoginComponent },\r\n];\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\"","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders\r\n} from '@angular/common/http';\r\nimport {\r\n  Credentials\r\n} from 'src/app/variables/credentials';\r\nimport {\r\n  Router\r\n} from '@angular/router';\r\nimport {\r\n  environment\r\n} from './../../../environments/environment';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n  // Credenziali d'accesso\r\n  userModel = new Credentials(localStorage.getItem('username'), localStorage.getItem('password'), false);\r\n  // Apikey\r\n  key: string;\r\n  // Login Fallito\r\n  showErrorMessage = false;\r\n\r\n\r\n  // Costruttore\r\n  constructor(private httpClient: HttpClient, private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    if (localStorage.getItem('apikey') != null) {\r\n      this.router.navigate(['../dashboard']);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n\r\n  // Accedi\r\n  onSubmit() {\r\n    // Header\r\n    let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded');\r\n    // Richiesta ApiKey\r\n    this.httpClient.post(environment.URL_ROOT + '/apikey', 'username=' + this.userModel.username + '&password=' + this.userModel.password, {\r\n        headers\r\n      })\r\n      .toPromise().then((data: any) => {\r\n        // Assegno il valore di apikey alla variabile key - e al localStorage\r\n        this.key = data.apikey;\r\n        localStorage.setItem('apikey', this.key);\r\n\r\n        // Redirect alla Dashboard\r\n        if (this.key == null) {\r\n          this.showErrorMessage = true;\r\n        } else {\r\n          this.router.navigate(['../dashboard']);\r\n        }\r\n      }, error => {\r\n        console.log(error);\r\n      });\r\n\r\n    // Funzione ricordami\r\n    if (this.userModel.remember) {\r\n      localStorage.setItem('username', this.userModel.username);\r\n      localStorage.setItem('password', this.userModel.password);\r\n    } else {\r\n      localStorage.setItem('username', '');\r\n      localStorage.setItem('password', '');\r\n    };\r\n  }\r\n\r\n}","export class Credentials {\r\n  constructor(\r\n    public username: string,\r\n    public password: string,\r\n    public remember: boolean,\r\n  ) {}\r\n  }"],"sourceRoot":"webpack:///"}